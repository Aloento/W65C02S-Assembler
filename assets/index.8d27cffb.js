(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var H,w,re,S,Q,Y={},ae=[],_e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function x(e,t){for(var r in t)e[r]=t[r];return e}function ne(e){var t=e.parentNode;t&&t.removeChild(e)}function le(e,t,r){var o,s,a,u={};for(a in t)a=="key"?o=t[a]:a=="ref"?s=t[a]:u[a]=t[a];if(arguments.length>2&&(u.children=arguments.length>3?H.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)u[a]===void 0&&(u[a]=e.defaultProps[a]);return I(e,u,o,s,null)}function I(e,t,r,o,s){var a={type:e,props:t,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s==null?++re:s};return s==null&&w.vnode!=null&&w.vnode(a),a}function V(e){return e.children}function N(e,t){this.props=e,this.context=t}function A(e,t){if(t==null)return e.__?A(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?A(e):null}function se(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return se(e)}}function q(e){(!e.__d&&(e.__d=!0)&&S.push(e)&&!C.__r++||Q!==w.debounceRendering)&&((Q=w.debounceRendering)||setTimeout)(C)}function C(){for(var e;C.__r=S.length;)e=S.sort(function(t,r){return t.__v.__b-r.__v.__b}),S=[],e.some(function(t){var r,o,s,a,u,l;t.__d&&(u=(a=(r=t).__v).__e,(l=r.__P)&&(o=[],(s=x({},a)).__v=a.__v+1,G(l,a,s,r.__n,l.ownerSVGElement!==void 0,a.__h!=null?[u]:null,o,u==null?A(a):u,a.__h),pe(o,a),a.__e!=u&&se(a)))})}function oe(e,t,r,o,s,a,u,l,_,v){var n,b,m,f,h,E,y,k=o&&o.__k||ae,R=k.length;for(r.__k=[],n=0;n<t.length;n++)if((f=r.__k[n]=(f=t[n])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?I(null,f,null,null,f):Array.isArray(f)?I(V,{children:f},null,null,null):f.__b>0?I(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=r,f.__b=r.__b+1,(m=k[n])===null||m&&f.key==m.key&&f.type===m.type)k[n]=void 0;else for(b=0;b<R;b++){if((m=k[b])&&f.key==m.key&&f.type===m.type){k[b]=void 0;break}m=null}G(e,f,m=m||Y,s,a,u,l,_,v),h=f.__e,(b=f.ref)&&m.ref!=b&&(y||(y=[]),m.ref&&y.push(m.ref,null,f),y.push(b,f.__c||h,f)),h!=null?(E==null&&(E=h),typeof f.type=="function"&&f.__k===m.__k?f.__d=_=ie(f,_,e):_=ue(e,f,m,k,h,_),typeof r.type=="function"&&(r.__d=_)):_&&m.__e==_&&_.parentNode!=e&&(_=A(m))}for(r.__e=E,n=R;n--;)k[n]!=null&&fe(k[n],k[n]);if(y)for(n=0;n<y.length;n++)ce(y[n],y[++n],y[++n])}function ie(e,t,r){for(var o,s=e.__k,a=0;s&&a<s.length;a++)(o=s[a])&&(o.__=e,t=typeof o.type=="function"?ie(o,t,r):ue(r,o,o,s,o.__e,t));return t}function ue(e,t,r,o,s,a){var u,l,_;if(t.__d!==void 0)u=t.__d,t.__d=void 0;else if(r==null||s!=a||s.parentNode==null)e:if(a==null||a.parentNode!==e)e.appendChild(s),u=null;else{for(l=a,_=0;(l=l.nextSibling)&&_<o.length;_+=1)if(l==s)break e;e.insertBefore(s,a),u=a}return u!==void 0?u:s.nextSibling}function he(e,t,r,o,s){var a;for(a in r)a==="children"||a==="key"||a in t||M(e,a,null,r[a],o);for(a in t)s&&typeof t[a]!="function"||a==="children"||a==="key"||a==="value"||a==="checked"||r[a]===t[a]||M(e,a,t[a],r[a],o)}function O(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||_e.test(t)?r:r+"px"}function M(e,t,r,o,s){var a;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)r&&t in r||O(e.style,t,"");if(r)for(t in r)o&&r[t]===o[t]||O(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")a=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?o||e.addEventListener(t,a?te:ee,a):e.removeEventListener(t,a?te:ee,a);else if(t!=="dangerouslySetInnerHTML"){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r==null?"":r;break e}catch{}typeof r=="function"||(r==null||r===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,r))}}function ee(e){this.l[e.type+!1](w.event?w.event(e):e)}function te(e){this.l[e.type+!0](w.event?w.event(e):e)}function G(e,t,r,o,s,a,u,l,_){var v,n,b,m,f,h,E,y,k,R,T,P,K,U,B,L=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(_=r.__h,l=t.__e=r.__e,t.__h=null,a=[l]),(v=w.__b)&&v(t);try{e:if(typeof L=="function"){if(y=t.props,k=(v=L.contextType)&&o[v.__c],R=v?k?k.props.value:v.__:o,r.__c?E=(n=t.__c=r.__c).__=n.__E:("prototype"in L&&L.prototype.render?t.__c=n=new L(y,R):(t.__c=n=new N(y,R),n.constructor=L,n.render=be),k&&k.sub(n),n.props=y,n.state||(n.state={}),n.context=R,n.__n=o,b=n.__d=!0,n.__h=[],n._sb=[]),n.__s==null&&(n.__s=n.state),L.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=x({},n.__s)),x(n.__s,L.getDerivedStateFromProps(y,n.__s))),m=n.props,f=n.state,b)L.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(L.getDerivedStateFromProps==null&&y!==m&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(y,R),!n.__e&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(y,n.__s,R)===!1||t.__v===r.__v){for(n.props=y,n.state=n.__s,t.__v!==r.__v&&(n.__d=!1),n.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(D){D&&(D.__=t)}),T=0;T<n._sb.length;T++)n.__h.push(n._sb[T]);n._sb=[],n.__h.length&&u.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(y,n.__s,R),n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(m,f,h)})}if(n.context=R,n.props=y,n.__v=t,n.__P=e,P=w.__r,K=0,"prototype"in L&&L.prototype.render){for(n.state=n.__s,n.__d=!1,P&&P(t),v=n.render(n.props,n.state,n.context),U=0;U<n._sb.length;U++)n.__h.push(n._sb[U]);n._sb=[]}else do n.__d=!1,P&&P(t),v=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++K<25);n.state=n.__s,n.getChildContext!=null&&(o=x(x({},o),n.getChildContext())),b||n.getSnapshotBeforeUpdate==null||(h=n.getSnapshotBeforeUpdate(m,f)),B=v!=null&&v.type===V&&v.key==null?v.props.children:v,oe(e,Array.isArray(B)?B:[B],t,r,o,s,a,u,l,_),n.base=t.__e,t.__h=null,n.__h.length&&u.push(n),E&&(n.__E=n.__=null),n.__e=!1}else a==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=ve(r.__e,t,r,o,s,a,u,_);(v=w.diffed)&&v(t)}catch(D){t.__v=null,(_||a!=null)&&(t.__e=l,t.__h=!!_,a[a.indexOf(l)]=null),w.__e(D,t,r)}}function pe(e,t){w.__c&&w.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(o){o.call(r)})}catch(o){w.__e(o,r.__v)}})}function ve(e,t,r,o,s,a,u,l){var _,v,n,b=r.props,m=t.props,f=t.type,h=0;if(f==="svg"&&(s=!0),a!=null){for(;h<a.length;h++)if((_=a[h])&&"setAttribute"in _==!!f&&(f?_.localName===f:_.nodeType===3)){e=_,a[h]=null;break}}if(e==null){if(f===null)return document.createTextNode(m);e=s?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,m.is&&m),a=null,l=!1}if(f===null)b===m||l&&e.data===m||(e.data=m);else{if(a=a&&H.call(e.childNodes),v=(b=r.props||Y).dangerouslySetInnerHTML,n=m.dangerouslySetInnerHTML,!l){if(a!=null)for(b={},h=0;h<e.attributes.length;h++)b[e.attributes[h].name]=e.attributes[h].value;(n||v)&&(n&&(v&&n.__html==v.__html||n.__html===e.innerHTML)||(e.innerHTML=n&&n.__html||""))}if(he(e,m,b,s,l),n)t.__k=[];else if(h=t.props.children,oe(e,Array.isArray(h)?h:[h],t,r,o,s&&f!=="foreignObject",a,u,a?a[0]:r.__k&&A(r,0),l),a!=null)for(h=a.length;h--;)a[h]!=null&&ne(a[h]);l||("value"in m&&(h=m.value)!==void 0&&(h!==e.value||f==="progress"&&!h||f==="option"&&h!==b.value)&&M(e,"value",h,b.value,!1),"checked"in m&&(h=m.checked)!==void 0&&h!==e.checked&&M(e,"checked",h,b.checked,!1))}return e}function ce(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(o){w.__e(o,r)}}function fe(e,t,r){var o,s;if(w.unmount&&w.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||ce(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(a){w.__e(a,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(s=0;s<o.length;s++)o[s]&&fe(o[s],t,r||typeof e.type!="function");r||e.__e==null||ne(e.__e),e.__=e.__e=e.__d=void 0}function be(e,t,r){return this.constructor(e,r)}function we(e,t,r){var o,s,a;w.__&&w.__(e,t),s=(o=typeof r=="function")?null:r&&r.__k||t.__k,a=[],G(t,e=(!o&&r||t).__k=le(V,null,[e]),s||Y,Y,t.ownerSVGElement!==void 0,!o&&r?[r]:s?null:t.firstChild?H.call(t.childNodes):null,a,!o&&r?r:s?s.__e:t.firstChild,o),pe(a,e)}H=ae.slice,w={__e:function(e,t,r,o){for(var s,a,u;t=t.__;)if((s=t.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(e)),u=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,o||{}),u=s.__d),u)return s.__E=s}catch(l){e=l}throw e}},re=0,N.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=x({},this.state),typeof e=="function"&&(e=e(x({},r),this.props)),e&&x(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),q(this))},N.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),q(this))},N.prototype.render=V,S=[],C.__r=0;var i=(e=>(e.MOV="MOV",e.PUSH="PUSH",e.POP="POP",e.DB="DB",e.ADDC="ADDC",e.SUBC="SUBC",e.OR="OR",e.XOR="XOR",e.BZS="BZS",e.BZC="BZC",e.RET="RET",e.RETI="RETI",e.CALL="CALL",e.ROTL="ROTL",e.ROTR="ROTR",e.ADC="ADC",e.AND="AND",e.ASL="ASL",e.BBR="BBR",e.BBS="BBS",e.BCC="BCC",e.BCS="BCS",e.BEQ="BEQ",e.BIT="BIT",e.BMI="BMI",e.BNE="BNE",e.BPL="BPL",e.BRA="BRA",e.BRK="BRK",e.BVC="BVC",e.BVS="BVS",e.CLC="CLC",e.CLD="CLD",e.CLI="CLI",e.CLV="CLV",e.CMP="CMP",e.CPX="CPX",e.CPY="CPY",e.DEC="DEC",e.DEX="DEX",e.DEY="DEY",e.EOR="EOR",e.INC="INC",e.INX="INX",e.INY="INY",e.JMP="JMP",e.JSR="JSR",e.LDA="LDA",e.LDX="LDX",e.LDY="LDY",e.LSR="LSR",e.NOP="NOP",e.ORA="ORA",e.PHA="PHA",e.PHP="PHP",e.PHX="PHX",e.PHY="PHY",e.PLA="PLA",e.PLP="PLP",e.PLX="PLX",e.PLY="PLY",e.RMB="RMB",e.ROL="ROL",e.ROR="ROR",e.RTI="RTI",e.RTS="RTS",e.SBC="SBC",e.SEC="SEC",e.SED="SED",e.SEI="SEI",e.SMB="SMB",e.STA="STA",e.STP="STP",e.STX="STX",e.STY="STY",e.STZ="STZ",e.TAX="TAX",e.TAY="TAY",e.TRB="TRB",e.TSB="TSB",e.TSX="TSX",e.TXA="TXA",e.TXS="TXS",e.TYA="TYA",e.WAI="WAI",e))(i||{}),c=(e=>(e.IndexX="X",e.IndexY="Y",e.Accumulator="A",e.StackPointer="S",e.ProgramCounter="R",e.StatusRegister="P",e.ZeroPage="ZP",e))(c||{}),$=(e=>(e.Register="Register",e.OpCode="OpCode",e.Number="Number",e.Pointer="Pointer",e.Label="Label",e.LabelDef="LabelDef",e))($||{});function ye(e){return e===`
`||e==="\r"}function Z(e){var a;let t=0;const r=[],o=new Set;for(;t<e.length;){const u=e[t];switch(u){case" ":case",":case"+":case"	":case"\r":case`
`:t++;continue}if(u===";"){for(;t<e.length&&!ye(e[t]);)t++;continue}if(/[a-zA-Z_]/.test(u)){let m="",f=t;for(;f<e.length&&/[a-zA-Z0-9_]/.test(e[f]);)m+=e[f],f++;if(e[f]===":"){r.push({type:"LabelDef",value:m}),o.add(m),t=f+1;continue}if(o.has(m)){r.push({type:"Label",value:m}),t=f;continue}}const l=[e.slice(t,t+2),e.slice(t,t+3),e.slice(t,t+4)].map(m=>m.toUpperCase()).find(m=>m in i);if(l){r.push({type:"OpCode",value:i[l]}),t+=l.length;continue}const _=[u,e.slice(t,t+2)].map(m=>m.toUpperCase()).find(m=>Object.values(c).indexOf(m)!==-1);if(_){r.push({type:"Register",value:_}),t+=_.length;continue}const v=u+((a=e.at(t+1))==null?void 0:a.toLowerCase());let n,b;switch(v){case"0b":n=/[01]/,b=2;case"0x":n!=null||(n=/[0-9A-Fa-f]/),b!=null||(b=16),t+=2,s(n,b);continue}if(u==="["){const[m,f]=Z(e.slice(++t));r.push(...m),t+=f;continue}if(u==="]"){t++;break}if(/[0-9]/.test(u)){s(/[0-9]/,10);continue}throw new TypeError(`Syntax Error: ${u} at ${t}.

    Recent Tokens: ${r.slice(-5).map(m=>m.value).join(" ")}

    Recent String: ${e.slice(t-10,t+10)}`)}return[r,t];function s(u,l){let _="";for(;t<e.length&&u.test(e[t]);)_+=e[t],t++;const v=parseInt(_,l);if(v<=255)r.push({type:"Number",value:v});else if(v<=65535)r.push({type:"Pointer",value:v});else throw new Error(`Number Too Large ${v} raw ${_} at ${t}`)}}var p=(e=>(e.Program="Program",e.CallExpression="CallExpression",e.RegisterLiteral="RegisterLiteral",e.NumberLiteral="NumberLiteral",e.PointerLiteral="PointerLiteral",e.LabelLiteral="LabelLiteral",e))(p||{});function F(e){let t=0;function r(){let s=e[t];if(s.type===$.Number)return t++,{type:"NumberLiteral",value:s.value};if(s.type===$.Pointer)return t++,{type:"PointerLiteral",value:s.value};if(s.type===$.Label)return t++,{type:"LabelLiteral",value:s.value};if(s.type===$.LabelDef)return t++,{type:"LabelLiteral",name:s.value};if(s.type===$.Register){t++;const a={type:"RegisterLiteral",name:s.value,params:[]};switch(a.name){case c.ZeroPage:let u=r();if(u.type!=="NumberLiteral")throw new Error(`ZeroPage must be followed by a number literal, but got ${u.type}`);a.params.push(u),u=r(),u.type==="RegisterLiteral"&&u.name===c.IndexY?a.value=c.IndexY:t--;break}return a}if(s.type===$.OpCode){const a={type:"CallExpression",name:s.value,params:[]};for(s=e[++t];t<e.length&&s.type!==$.OpCode&&s.type!==$.LabelDef;)a.params.push(r()),s=e[t];return a}throw new TypeError(`Unexpected token ${s.type} : ${s.value} at ${t}`)}const o={type:"Program",body:[]};for(;t<e.length;)o.body.push(r());return o}function de(e,t){function r(s,a){s.forEach(u=>o(u,a))}function o(s,a){const u=t[s.type];switch(u&&u(s,a),s.type){case p.Program:r(s.body,s);break;case p.CallExpression:r(s.params,s);break;case p.RegisterLiteral:case p.NumberLiteral:case p.PointerLiteral:case p.LabelLiteral:break;default:throw new TypeError(`Unexpected node type ${s.type}`)}}o(e)}function ke(e,t){switch(e.name){case i.NOP:t.value="EA";break;case i.RET:case i.RTS:t.value="60";break;case i.RETI:case i.RTI:t.value="40";break;case i.SEC:t.value="38";break;case i.CLC:t.value="18";break;case i.SEI:t.value="78";break;case i.CLI:t.value="58";break;case i.CLV:t.value="B8";default:throw new Error(`Not Supported opcode: ${e.name} with no params`)}}function Le(e,t){switch(e.type){case p.NumberLiteral:t.value="90",t.params=[e];break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.BCC}`)}}function Re(e,t){switch(e.type){case p.NumberLiteral:t.value="B0",t.params=[e];break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.BCS}`)}}function $e(e,t){switch(e.type){case p.NumberLiteral:t.value="D0",t.params=[e];break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.BZC}`)}}function xe(e,t){switch(e.type){case p.NumberLiteral:t.value="F0",t.params=[e];break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.BZS}`)}}function Ee(e,t){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:t.value="3A";break;case c.IndexX:t.value="CA";break;case c.IndexY:t.value="88";break;default:throw new Error(`UnSupport Register: ${e.value} for ${i.DEC}`)}break;case p.PointerLiteral:t.value="CE",t.params=d(e.value);break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.DEC}`)}}function Pe(e,t){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:t.value="1A";break;case c.IndexX:t.value="E8";break;case c.IndexY:t.value="C8";break;default:throw new Error(`UnSupport Register: ${e.value} for ${i.INC}`)}break;case p.PointerLiteral:t.value="EE",t.params=d(e.value);break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.INC}`)}}function Se(e,t){switch(t.value="4C",e.type){case p.LabelLiteral:t.params=[e];break;case p.PointerLiteral:t.params=d(e.value);break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.JMP}`)}}function Ae(e,t){switch(e.type){case p.PointerLiteral:t.value="20",t.params=d(e.value);break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.JSR}`)}}function Te(e,t){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:t.value="68";break;case c.IndexX:t.value="FA";break;case c.IndexY:t.value="7A";break;case c.StatusRegister:t.value="28";break;default:throw new Error(`UnSupport Register: ${e.value} for ${i.POP}`)}break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.POP}`)}}function Ue(e,t){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:t.value="48";break;case c.IndexX:t.value="DA";break;case c.IndexY:t.value="5A";break;case c.StatusRegister:t.value="08";break;default:throw new Error(`UnSupport Register: ${e.value} for ${i.PUSH}`)}break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.PUSH}`)}}function Be(e,t){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:t.value="2A";break;default:throw new Error(`UnSupport Register: ${e.value} for ${i.ROL}`)}break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.ROL}`)}}function De(e,t){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:t.value="6A";break;default:throw new Error(`UnSupport Register: ${e.value} for ${i.ROR}`)}break;default:throw new Error(`Unexpected param type: ${e.type} for ${i.ROR}`)}}function Ie(e,t){const r=e.params[0];switch(e.name){case i.JMP:Se(r,t);break;case i.INC:Pe(r,t);break;case i.DEC:Ee(r,t);break;case i.BZS:xe(r,t);break;case i.BZC:$e(r,t);break;case i.BCS:Re(r,t);break;case i.BCC:Le(r,t);break;case i.PUSH:Ue(r,t);break;case i.POP:Te(r,t);break;case i.CALL:case i.JSR:Ae(r,t);break;case i.ROTL:case i.ROL:Be(r,t);break;case i.ROTR:case i.ROR:De(r,t);break;default:throw new Error(`UnSupport OpCode: ${e.name} with 1 param`)}}function Ne(e,t,r){switch(t.type){case p.RegisterLiteral:switch(t.name){case c.Accumulator:switch(r.type){case p.NumberLiteral:e.value="69",e.params=[r];break;case p.PointerLiteral:e.value="6D",e.params=d(r.value);break;case p.RegisterLiteral:switch(r.name){case c.ZeroPage:r.value===c.IndexY?e.value="71":e.value="72",e.params=r.params;break;default:throw new Error(`Unsupport Right Register: ${r.name} for ${e.name}`)}break;default:throw new Error(`Unsupport Right param type: ${r.type} for ${e.name}`)}break;default:throw new Error(`Unsupport Left Register: ${t.name} for ${e.name}`)}break;default:throw new Error(`Unexpected Left param type: ${t.type} for ${e.name}`)}}function ge(e,t,r){switch(t.type){case p.RegisterLiteral:switch(t.name){case c.Accumulator:switch(r.type){case p.NumberLiteral:e.value="29",e.params=[r];break;case p.PointerLiteral:e.value="2D",e.params=d(r.value);break;case p.RegisterLiteral:switch(r.name){case c.ZeroPage:r.value===c.IndexY?e.value="31":e.value="32",e.params=r.params;break;default:throw new Error(`Unsupport Right Register: ${r.name} for ${e.name}`)}break;default:throw new Error(`Unsupport Right param type: ${r.type} for ${e.name}`)}break;default:throw new Error(`Unsupport Left Register: ${t.name} for ${e.name}`)}break;default:throw new Error(`Unexpected Left param type: ${t.type} for ${e.name}`)}}function Xe(e,t,r){switch(e.type){case p.RegisterLiteral:switch(e.name){case c.Accumulator:switch(t.type){case p.NumberLiteral:r.value="C9",r.params=[t];break;case p.PointerLiteral:r.value="CD",r.params=d(t.value);break;case p.RegisterLiteral:switch(t.name){case c.ZeroPage:t.value===c.IndexY?r.value="D1":r.value="D2",r.params=t.params;break;default:throw new Error(`Unsupport Right Register: ${t.name} for ${r.name}`)}break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}break;case c.IndexX:switch(t.type){case p.NumberLiteral:r.value="E0",r.params=[t];break;case p.PointerLiteral:r.value="EC",r.params=d(t.value);break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}break;case c.IndexY:switch(t.type){case p.NumberLiteral:r.value="C0",r.params=[t];break;case p.PointerLiteral:r.value="CC",r.params=d(t.value);break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}break;default:throw new Error(`Unsupport Left Register: ${e.name} for ${r.name}`)}break;default:throw new Error(`Unexpected Left param type: ${e.type} for ${r.name}`)}}function Ye(e,t,r){switch(t.type){case p.RegisterLiteral:switch(t.name){case c.Accumulator:switch(r.type){case p.NumberLiteral:e.value="49",e.params=[r];break;case p.PointerLiteral:e.value="4D",e.params=d(r.value);break;case p.RegisterLiteral:switch(r.name){case c.ZeroPage:r.value===c.IndexY?e.value="51":e.value="52",e.params=r.params;break;default:throw new Error(`Unsupport Right Register: ${r.name} for ${e.name}`)}break;default:throw new Error(`Unsupport Right param type: ${r.type} for ${e.name}`)}break;default:throw new Error(`Unsupport Left Register: ${t.name} for ${e.name}`)}break;default:throw new Error(`Unexpected Left param type: ${t.type} for ${e.name}`)}}function Ce(e,t,r){switch(t.type){case p.RegisterLiteral:switch(r.params=d(e.value),t.name){case c.Accumulator:r.name=i.STA,r.value="8D";break;case c.IndexX:r.name=i.STX,r.value="8E";break;case c.IndexY:r.name=i.STY,r.value="8C";break;default:throw new Error(`Unsupport Right Register: ${t.value} for ${r.name}`)}break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}}function Me(e,t,r){switch(e.name){case c.Accumulator:switch(t.name){case c.IndexX:r.name=i.TXA,r.value="8A";break;case c.IndexY:r.name=i.TYA,r.value="98";break;case c.ZeroPage:r.name=i.LDA,t.value===c.IndexY?r.value="B1":r.value="B2",r.params=t.params;break;default:throw new Error(`Unsupport Register Pair: ${e.name} : ${t.name} for ${r.name}`)}break;case c.IndexX:switch(t.name){case c.Accumulator:r.name=i.TAX,r.value="AA";break;case c.StackPointer:r.name=i.TSX,r.value="BA";break;default:throw new Error(`Unsupport Register Pair: ${e.name} : ${t.name} for ${r.name}`)}break;case c.IndexY:switch(t.name){case c.Accumulator:r.name=i.TAY,r.value="A8";break;default:throw new Error(`Unsupport Register Pair: ${e.name} : ${t.name} for ${r.name}`)}break;case c.StackPointer:switch(t.name){case c.IndexX:r.name=i.TXS,r.value="9A";break;default:throw new Error(`Unsupport Register Pair: ${e.name} : ${t.name} for ${r.name}`)}break;case c.ZeroPage:switch(t.name){case c.Accumulator:r.name=i.STA,e.value===c.IndexY?r.value="91":r.value="92",r.params=e.params;break;default:throw new Error(`Unsupport Register Pair: ${e.name} : ${t.name} for ${r.name}`)}break;default:throw new Error(`Unsupport Left Register: ${e.name} for ${r.name}`)}}function Ze(e,t,r){switch(e.name){case c.Accumulator:switch(r.name=i.LDA,t.type){case p.NumberLiteral:r.value="A9",r.params=[t];break;case p.PointerLiteral:r.value="AD",r.params=d(t.value);break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}break;case c.IndexX:switch(r.name=i.LDX,t.type){case p.NumberLiteral:r.value="A2",r.params=[t];break;case p.PointerLiteral:r.value="AE",r.params=d(t.value);break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}break;case c.IndexY:switch(r.name=i.LDY,t.type){case p.NumberLiteral:r.value="A0",r.params=[t];break;case p.PointerLiteral:r.value="AC",r.params=d(t.value);break;default:throw new Error(`Unsupport Right param type: ${t.type} for ${r.name}`)}break;default:throw new Error(`Unsupport Left Register: ${e.name} for ${r.name}`)}}function He(e,t,r){switch(e.type){case p.RegisterLiteral:if(t.type===p.RegisterLiteral){Me(e,t,r);break}Ze(e,t,r);break;case p.PointerLiteral:Ce(e,t,r);break;default:throw new Error(`Unexpected Left param type: ${e.type} for ${r.name}`)}}function Ve(e,t,r){switch(t.type){case p.RegisterLiteral:switch(t.name){case c.Accumulator:switch(r.type){case p.NumberLiteral:e.value="09",e.params=[r];break;case p.PointerLiteral:e.value="0D",e.params=d(r.value);break;case p.RegisterLiteral:switch(r.name){case c.ZeroPage:r.value===c.IndexY?e.value="11":e.value="12",e.params=r.params;break;default:throw new Error(`Unsupport Right Register: ${r.name} for ${e.name}`)}break;default:throw new Error(`Unsupport Right param type: ${r.type} for ${e.name}`)}break;default:throw new Error(`Unsupport Left Register: ${t.name} for ${e.name}`)}break;default:throw new Error(`Unexpected Left param type: ${t.type} for ${e.name}`)}}function Fe(e,t,r){switch(t.type){case p.RegisterLiteral:switch(t.name){case c.Accumulator:switch(r.type){case p.NumberLiteral:e.value="E9",e.params=[r];break;case p.PointerLiteral:e.value="ED",e.params=d(r.value);break;case p.RegisterLiteral:switch(r.name){case c.ZeroPage:r.value===c.IndexY?e.value="F1":e.value="F2",e.params=r.params;break;default:throw new Error(`Unsupport Right Register: ${r.name} for ${e.name}`)}break;default:throw new Error(`Unsupport Right param type: ${r.type} for ${e.name}`)}break;default:throw new Error(`Unsupport Left Register: ${t.name} for ${e.name}`)}break;default:throw new Error(`Unexpected Left param type: ${t.type} for ${e.name}`)}}function je(e,t){const r=e.params[0],o=e.params[1];switch(e.name){case i.MOV:He(r,o,t);break;case i.ADDC:case i.ADC:Ne(t,r,o);break;case i.SUBC:case i.SBC:Fe(t,r,o);break;case i.AND:ge(t,r,o);break;case i.OR:case i.ORA:Ve(t,r,o);break;case i.XOR:case i.EOR:Ye(t,r,o);break;case i.CMP:Xe(r,o,t);break;default:throw new Error(`UnSupport OpCode: ${e.name} with 2 params`)}}function me(e){const t=e.toString(16).padStart(4,"0");return[t.slice(2,4),t.slice(0,2)]}function d(e){return me(e).map(t=>({type:p.NumberLiteral,value:t}))}function j(e){const t={type:p.Program,body:[]};return e.context=t.body,de(e,{[p.LabelLiteral](r,o){(o==null?void 0:o.type)===p.Program&&t.body.push(r)},[p.CallExpression](r,o){var a,u;const s={type:p.CallExpression,name:r.name,params:[]};if(s.name===i.DB)s.params=r.params;else switch((a=r.params)==null?void 0:a.length){case 1:Ie(r,s);break;case 2:je(r,s);break;case 0:case void 0:ke(r,s);break;default:throw new Error(`Params length out of range: ${(u=r.params)==null?void 0:u.length} for opcode: ${r.name}`)}o.context.push(s)}}),t}let g=0;const J=new Map;function W(e){return g=0,J.clear(),X(e)}function X(e){switch(e.type){case p.Program:return e.body.map(X).join(`
`);case p.LabelLiteral:return e.name?(J.set(e.name,g),""):me(J.get(e.value)).join(" ");case p.CallExpression:return e.name===i.DB?e.params.map(X).join(" "):(g++,`${e.value} ${e.params.map(X).join(" ")}`);case p.NumberLiteral:return g++,e.value.toString(16).padStart(2,"0").toUpperCase();default:throw new Error(`Unknown AST type: ${e.type}`)}}function Je(e){return W(j(F(Z(e)[0])))}const We="/assets/preact.48177e6f.svg";const ze=`
;loading something into a register:
mov a, 0x55
mov a, [ 0x1234 ]
mov x, 0x55
mov x, [ 0x1234 ]
mov y, 0x55
mov y, [ 0x1234 ]
; storing the value from a register into memory:
mov [ 0x1234 ], a
mov [ 0x1234 ], x
mov [ 0x1234 ], y
; moving between registers:
mov a, x
mov x, a
mov a, y
mov y, a
;arithmetic and logic operations, the result always goes to A
addc a, 0x55	; adds two bytes
addc a, [ 0x1234 ]
subc a, 0x55	; substract
subc a, [ 0x1234 ]
and a, 0x55	; biwise and
and a, [ 0x1234 ]
or a, 0x55	; bitwise or
or a, [ 0x1234 ]
xor a, 0x55	; bitwise xor
xor a, [ 0x1234 ]
inc a	; increment (add one)
inc x
inc y
inc [ 0x1234 ]
dec a	; decrement (substract one)
dec x
dec y
dec [ 0x1234 ]
; comparison operations (more explanations in the next class)
cmp a, 0x55
cmp a, [ 0x1234 ]
cmp x, 0x55
cmp x, [ 0x1234 ]
cmp y, 0x55
cmp y, [ 0x1234 ]
; conditional jump. The meaning of the immediate value
; will be explaine in the next class, or you can read the datasheet
bzs 0x55
bzc 0x55
bcs 0x55

start:
jmp start
mov a, 0x11
mov [0x3000], x
mov y, 0x21
inc x
addc a, 0x02
`;var Ge=0;function z(e,t,r,o,s){var a,u,l={};for(u in t)u=="ref"?a=t[u]:l[u]=t[u];var _={type:e,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ge,__source:s,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(u in a)l[u]===void 0&&(l[u]=a[u]);return w.vnode&&w.vnode(_),_}function Ke(){window.TestASM=ze,window.Tokenizer=Z,window.Parser=F,window.Transformer=j,window.Generator=W,window.Assembler=Je;const e=Z("hellostring:   db 72, 101, 108, 108, 111, 0");console.log(e);const t=F(e[0]);console.log(t);const r=j(t),o=W(r);return console.log(o),z("div",{children:z("img",{src:We})})}we(z(Ke,{}),document.getElementById("app"));
